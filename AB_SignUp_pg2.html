<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="AB_signup.css" />
    <link
      href="<https://fonts.googleapis.com/css2?family=Montserrat+Alternates:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;1,100;1,200&display=swap>"
      rel="stylesheet"
    />
  </head>
  <body>
    <main id="main-holder">
      <h1>
        <title>Sign Up</title>
      </h1>
      <form onsubmit="return sendEmail(event)" action="AB_SignUp_pg3.html">
        <form onsubmit="return sendEmail(event)" action="AB_SIGNUP.php" method="POST">
        <img src="AB_business_logo.jpg" width="400" alt="Businesss Logo" class="center"/>
        <h2>Sign Up</h2>
        <div>
          <h4><label for="fName">First Name</label><br /></h4>
          <input 
          required
          minlength="2"
          type="text" class="input" name="fName" id="fName" placeholder=""/><br />
          <span class="error-icon hidden -ml-6 text-red-700">
            <i class="fa-solid fa-circle-exclamation"></i>
          </span>
          <span class="success-icon hidden -ml-6 text-green-700">
            <i class="fa-solid fa-circle-check"></i>
          </span>
        </div>
        
        <div>
      <div>
          <h4><label for="lName">Last Name</label><br /></h4>
          <input 
          required
          minlength="2"
          type="text" class="input" name="lName" id="lName" /><br />
          <span class="error-icon hidden -ml-6 text-red-700">
            <i class="fa-solid fa-circle-exclamation"></i>
          </span>
          <span class="success-icon hidden -ml-6 text-green-700">
            <i class="fa-solid fa-circle-check"></i>
          </span>
        </div>
        
        <div>
          <h4><label for="email">Email</label><br /></h4>
          <input 
          required
          pattern="^(.+)@(.+)$"
          type="email" class="input" name="email" id="email" /><br />
          <span class="error-icon hidden -ml-6 text-red-700">
            <i class="fa-solid fa-circle-exclamation"></i>
          </span>
          <span class="success-icon hidden -ml-6 text-green-700">
            <i class="fa-solid fa-circle-check"></i>
          </span>
        </div>
  
        <div>
          <h4><label for="bday">Birthday</label><br /></h4>
          <input type="text" class="input" name="bdate" id="bdate" placeholder="MM/DD/YYYY"/><br />
          <span class="error-icon hidden -ml-6 text-red-700">
            <i class="fa-solid fa-circle-exclamation"></i>
          </span>
          <span class="success-icon hidden -ml-6 text-green-700">
            <i class="fa-solid fa-circle-check"></i>
          </span>
        </div>
  
        <div>
          <h4><label for="password">Password</label><br /></h4>
          <input required minlength="12" type="password" class="input" name="password" id="password"/><br />
          <span class="error-icon hidden -ml-6 text-red-700">
            <i class="fa-solid fa-circle-exclamation"></i>
          </span>
          <span class="success-icon hidden -ml-6 text-green-700">
            <i class="fa-solid fa-circle-check"></i>
          </span>
          <span class="error-message hidden text-red-700"></span>
          <span class="success-message hidden text-green-700"></span>
        </div>
        
        <div>
          <h4><label for="confirmPassword">Confirm Password</label><br /></h4>
          <input required type="password" class="input" name="confirmPassword" id="confirmPassword" match-password="password"/><br />
          <span class="error-icon hidden -ml-6 text-red-700">
            <i class="fa-solid fa-circle-exclamation"></i>
          </span>
          <span class="success-icon hidden -ml-6 text-green-700">
            <i class="fa-solid fa-circle-check"></i>
          </span>
          <span class="error-message hidden text-red-700"></span>
          <span class="success-message hidden text-green-700"></span>
        </div>        
        
        <div>
          <h4><label for="phonenum">Phone Number</label><br /></h4>
          <input type="text" class="input" name="pNum" id="pNum" placeholder="000-000-0000"/><br />
          <span class="error-icon hidden -ml-6 text-red-700">
            <i class="fa-solid fa-circle-exclamation"></i>
          </span>
          <span class="success-icon hidden -ml-6 text-green-700">
            <i class="fa-solid fa-circle-check"></i>
          </span>
        </div>      
  
          <input type="submit" class="input" id="submitBtn" />
  
        <div id="popup" style="display: none">
          <div id="data">
            <span class="error-icon hidden -ml-6 text-red-700">
            <i class="fa-solid fa-circle-exclamation"></i>
          </span>
          <span class="success-icon hidden -ml-6 text-green-700">
            <i class="fa-solid fa-circle-check"></i>
          </span><br />
            <p id="popupText"></p>
          </div>
      </div>
      <script src="AB_signup_pg2.js"></script>
      </form>
    <footer>
      <p>© 2024 AntBarter | Designed with ❤️</p>
    </footer>
      </main>
      <script src="https://smtpjs.com/v3/smtp.js"></script>
    <script>
      function sendEmail() {
        Email.send({
          Host: smtp.elasticemail.com,
          SecureToken: "d3dbe049-207a-408a-8ca2-c994e827b723",
          To: "email",
          From: document.getElementById("email").value,
          Subject: "Thank you for completing your user registration for AntBarter.",
          Body: "First Name: " + document.getElementById("fName").value
            + "<br> Last Name: " + document.getElementById("lName").value
            + "<br> Email: " + document.getElementById("email").value
        }).then(
          message => alert("Message Sent Successfully")
          )
          .catch(
            error => console.error("Error sending email: ", error)
            );
      }
    </script>
  </body>
</html>
